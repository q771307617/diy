<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
	div{position:relative;}
	.box{height:auto;padding:2px;float:left;}

	.item{border:#ddd solid 1px;
		border-radius:8px;box-shadow:2px 2px 2px 0 #ccc;padding:5px;
		overflow:hidden;}

	div>img{width:200px;height:auto;border-radius:5px;}
  </style>

	 <script>
		 window.onload = function () {
			//根据浏览器宽度 和图片宽度 计算出 每一行可以放多少张图片

			 var clientWidth = document.documentElement.clientWidth || document.body.clientWidth;

			 var boxs = document.getElementsByClassName('box');

			 var boxWidth  = boxs[0].offsetWidth;

			 var cols =  parseInt(clientWidth/boxWidth);

			 var colHeightArray = [];

			 //遍历出  每一张图，确定他们的坐标
			for(var i=0;i<boxs.length;i++ ){
				var box = boxs[i];
				if(i<cols){
					//第一行的图片,记录高度，放在数组
					colHeightArray.push(box.offsetHeight);
				}else{
					//其他行的图片
					//求数组中最小值,下标
					var min = colHeightArray[0];
					var minIndex = 0;
					for(var j=0;j<colHeightArray.length;j++){
						if(colHeightArray[j] < min){
							min = colHeightArray[j];
							minIndex = j;
						}
					}

					//根据最小值和下标 算出 box 的坐标
					var left = minIndex *boxWidth;
					var top = min;
					box.style.position = 'absolute';
					box.style.left = left +'px';
					box.style.top = top +'px';

					//minIndex
					//盒子放好以后，需要改变数组中对应列的高度
					colHeightArray[minIndex]  = colHeightArray[minIndex] +box.offsetHeight;








				}


			}







		 }



	 </script>

 </head>
 <body>
	<div id="container">
		<div class="box">
			<div class="item">
				<img src="img/1.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/2.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/3.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/4.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/5.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/6.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/7.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/8.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/9.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/1.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/2.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/3.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/4.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/5.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/6.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/7.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/8.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/9.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/1.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/2.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/3.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/4.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/5.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/6.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/7.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/8.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/9.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/1.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/2.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/3.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/4.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/5.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/6.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/7.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/8.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/9.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/1.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/2.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/3.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/4.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/5.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/6.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/7.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/8.jpg"/>
			</div>
		</div>
		<div class="box">
			<div class="item">
				<img src="img/9.jpg"/>
			</div>
		</div>
	</div>


 </body>
</html>
